<h1>Browse</h1>

<div class="panel panel-default">
	<div class="panel-heading">
		Search
	</div>
	<div class="panel-body">
		<div class="form-inline">
			<div class="form-group mb-2">
				<select class="form-control" [(ngModel)]="query.sort" id="sort">
					<option *ngFor="let item of sortValues" [value]="item.value">{{ item.label }}</option>
				</select>
			</div>

			<div class="form-group mb-2">
				<select class="form-control" [(ngModel)]="query.direction" id="direction">
					<option *ngFor="let item of directionValues" [value]="item.value">{{ item.label }}</option>
				</select>
			</div>

			<div class="form-group mb-2">
				<select class="form-control" [(ngModel)]="query.since" id="since">
					<option *ngFor="let item of sinceValues" [value]="item.value">{{ item.label }}</option>
				</select>
			</div>
		</div>

		<div class="form-group">
			<tag-input [(ngModel)]="tags" [identifyBy]="'id'" [displayBy]="'name'" [onlyFromAutocomplete]="true" [placeholder]="'Search tags'" theme="bootstrap3-info">
				<tag-input-dropdown [autocompleteObservable]="autocompleteTags" [minimumTextLength]="0" [identifyBy]="'id'" [displayBy]="'name'">
					<ng-template let-item="item" let-index="index">
						{{ item.name }}
					</ng-template>
				</tag-input-dropdown>
			</tag-input>
		</div>

		<div class="form-group">
			<div class="form-group mb-2">
				<button type="button" class="btn btn-default" (click)="go()" [disabled]="!posts && !error">
					<i class="glyphicon glyphicon-glyphicon-refresh"></i>&nbsp;Go
				</button>
			</div>
		</div>
	</div>
</div>


<hr />

<post-gallery [posts]="posts" [error]="error"></post-gallery>
